#!/usr/bin/env bash
set -euo pipefail

DEST="${HOME}/snmp/mibs"
mkdir -p "$DEST"

URLS=(
    "https://www.net-snmp.org/docs/mibs/SNMPv2-TM.txt"
    "https://www.net-snmp.org/docs/mibs/SNMPv2-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-FRAMEWORK-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-MPD-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-TARGET-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-NOTIFICATION-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-PROXY-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-USER-BASED-SM-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-VIEW-BASED-ACM-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-COMMUNITY-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/TRANSPORT-ADDRESS-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IF-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IF-INVERTED-STACK-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/EtherLike-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IP-FORWARD-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IANA-RTPROTO-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/TCP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UDP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/INET-ADDRESS-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/HCNUM-TC.txt"
    "https://www.net-snmp.org/docs/mibs/HOST-RESOURCES-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/HOST-RESOURCES-TYPES.txt"
    "https://www.net-snmp.org/docs/mibs/RMON-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IPV6-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IPV6-ICMP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IPV6-TCP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IPV6-UDP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IPV6-FLOW-LABEL-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/TUNNEL-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/DISMAN-EVENT-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/DISMAN-SCRIPT-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/DISMAN-SCHEDULE-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NOTIFICATION-LOG-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-USM-AES-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SNMP-USM-DH-OBJECTS-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/SCTP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/AGENTX-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IANAifType-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IANA-LANGUAGE-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/IANA-ADDRESS-FAMILY-NUMBERS-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-TC.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-AGENT-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-EXAMPLES-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-EXTEND-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-PASS-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UCD-SNMP-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UCD-DEMO-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UCD-IPFWACC-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UCD-DLMOD-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/UCD-DISKIO-MIB.txt"
    "https://www.net-snmp.org/docs/mibs/NET-SNMP-VACM-MIB.txt"
)

echo "Downloading MIBs from NET-SNMP Website"
echo "Downloading to $DEST"
for u in "${URLS[@]}"; do
    echo "--> $u"
    curl -fsSL --retry 3 --retry-delay 1 --output-dir "$DEST" -O "$u"
done
echo "Done. Files in $DEST"

